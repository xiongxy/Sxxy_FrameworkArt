@using Newtonsoft.Json
@{
    var obj = ViewData["obj"] as BootStrapTable;
    if (obj == null)
    {
        return;
    }
}
<div class="box">
    <div class="box-header">
        <h3 class="box-title">@obj.TableName</h3>
    </div>
    <!-- /.box-header -->
    <div class="box-body">
        <table id="@obj.TableId" viewModel="@obj.ViewModel" class="table table-bordered table-hover">
            <thead>
                <tr>
                    @{
                        foreach (var item in obj.BootStrapTableColumns)
                        {
                            <th>@item.Title</th>
                        }
                    }
                </tr>
            </thead>
            <tbody>
                <!-- 内容 ，需要使用Ajax 获取数据 -->
                <script>
                    $(function () {
                        $.ajax({
                            url: "/WebApi/Home/GetTableData",
                            data: { "viewModelFullName": "@obj.ViewModel" },
                            type: "POST",
                            dataType: "text",
                            success: function (data) {
                                $("#@obj.TableId").find("tbody").html(data);
                                $('#@obj.TableId').DataTable({
                                    "paging": true,
                                    "lengthChange": true,
                                    "searching": false,
                                    "ordering": true,
                                    "info": true,
                                    "autoWidth": false
                                });
                            }
                        });
                    })
                </script>
            </tbody>
            <tfoot>
                <tr>
                    @{
                        foreach (var item in obj.BootStrapTableColumns)
                        {
                            <th>@item.Title</th>
                        }
                    }
                </tr>
            </tfoot>
        </table>
    </div>
    <!-- /.box-body -->
</div>
<script>

</script>
<link href="~/Content/Assembly/Table/dataTables.bootstrap.css" rel="stylesheet" />
<script src="~/Content/Assembly/Table/jquery.dataTables.min.js"></script>
<script src="~/Content/Assembly/Table/dataTables.bootstrap.min.js"></script>